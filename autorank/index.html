<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>autorank - Autorank</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "autorank";
    var mkdocs_page_input_path = "autorank.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Autorank</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="..">Home</a>
	    </li>
          
            <li class="toctree-l1 current">
		
    <a class="current" href="./">autorank</a>
    <ul class="subnav">
            
    </ul>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Autorank</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>autorank</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="autorank.autorank">autorank</h1>

<pre><code class="python">autorank(data, alpha=0.05, verbose=False, order='descending')
</code></pre>

<p>Automatically compares populations defined in a block-design data frame. Each column in the data frame contains
the samples for one population. The data must not contain any NaNs. The data must have at least five measurements,
i.e., rows. The current version is only reliable for less than 5000 measurements.</p>
<p>The following approach is implemented by this function
- First all columns are checked with the Shapiro-Wilk test for normality. We use Bonferoni correction for these
  tests, i.e., alpha/len(data.columns).
- If all columns are normal, we use Bartlett's test for homogeneity, otherwise we use Levene's test.
- Based on the normality and the homogeneity, we select appropriate tests, effect sizes, and methods for determining
  the confidence intervals of the central tendency.</p>
<p>If all columns are normal, we calculate:
- The mean value as central tendency.
- The empirical standard deviation as measure for the variance.
- The confidence interval for the mean value.
- The effect size in comparison to the highest mean value using Cohen's d.</p>
<p>If at least one column is not normal, we calculate:
- The median as central tendency.
- The median absolute deviation from the median as measure for the variance.
- The confidence interval for the median.
- The effect size in comparison to the highest ranking approach using Cliff's delta.</p>
<p>For the statistical tests, there are four variants:
- If there are two populations (columns) and both populations are normal, we use the paired t-test.
- If there are two populations and at least one populations is not normal, we use Wilcoxon's signed rank test.
- If there are more than two populations and all populations are normal and homoscedastic, we use repeated measures
  ANOVA with Tukey's HSD as post-hoc test.
- If there are more than two populations and at least one populations is not normal or the populations are
  heteroscedastic, we use Friedman's test with the Nemenyi post-hoc test.</p>
<p><strong>Parameters</strong></p>
<ul>
<li>
<p><strong>data (DataFrame)</strong>:
    Each column contains a population and each row contains the paired measurements
    for the populations.</p>
</li>
<li>
<p><strong>alpha (float, default=0.05)</strong>:
    Significance level. We internally use correction to ensure that all results (incl. confidence
    intervals) together fulfill this confidence level.</p>
</li>
<li>
<p><strong>verbose (bool, default=False)</strong>:
    Prints decisions and p-values while running the autorank function to stdout.</p>
</li>
<li>
<p><strong>order (string, default='descending')</strong>:
    Determines the ordering central tendencies of the populations for the ranking. 'descending' results in higher
    ranks for larger values. 'ascending' results in higher ranks for smaller values.</p>
</li>
</ul>
<p><strong>Returns</strong></p>
<p>A named tuple of type RankResult with the following entries.</p>
<p><code>rankdf (DataFrame)</code>:
    Ranked populations including statistics about the populations.</p>
<p><code>pvalue (float)</code>:
    p-value of the omnibus test for the difference in central tendency between the populations.</p>
<p><code>omnibus (string)</code>:
   mnibus test that is used for the test of a difference ein the central tendency.</p>
<p><code>posthoc (string)</code>:
    Posthoc tests that was used. The posthoc test is performed even if the omnibus test is not significant. The
    results should only be used if the p-value of the omnibus test indicates significance. None in case of two
    populations.</p>
<p><code>cd (float)</code>:
    The critical distance of the Nemenyi posthoc test, if it was used. Otherwise None.</p>
<p><code>all_normal (bool)</code>:
    True if all populations are normal, false if at least one is not normal.</p>
<p><code>pvals_shapiro (list)</code>:
    p-values of the Shapiro-Wilk tests for normality sorted by the order of the input columns.</p>
<p><code>homoscedastic (bool)</code>:
    True if populations are homoscedastic, false otherwise.</p>
<p><code>pval_homogeneity (float)</code>:
    p-value of the test for homogeneity.</p>
<p><code>homogeneity_test (string)</code>:
    Test used for homogeneity. Either 'bartlet' or 'levene'.</p>
<p><code>alpha (float)</code>:
    Family-wise significant level. Same as input parameter.</p>
<p><code>alpha_normality (float)</code>:
    Corrected alpha that is used for tests for normality.</p>
<p><code>num_samples (int)</code>:
    Number of samples within each population.</p>
<p><code>order (string)</code>:
    Order of the central tendencies used for ranking.</p>
<h1 id="autorank.create_report">create_report</h1>

<pre><code class="python">create_report(result, *, decimal_places=3)
</code></pre>

<p>Prints a report about the statistical analysis.</p>
<p><strong>Parameters</strong></p>
<ul>
<li>
<p><strong>result (RankResult)</strong>:
    Should be the return value the autorank function.</p>
</li>
<li>
<p><strong>decimal_places (int, default=3)</strong>:
    Number of decimal places that are used for the report.</p>
</li>
</ul>
<h1 id="autorank.plot_stats">plot_stats</h1>

<pre><code class="python">plot_stats(result, *, allow_insignificant=False, ax=None, width=None)
</code></pre>

<p>Creates a plot that supports the analysis of the results of the statistical test. The plot depends on the
statistical test that was used.
- Creates a Confidence Interval (CI) plot for a paired t-test between two normal populations. The confidence
 intervals are calculated with Bonferoni correction, i.e., a confidence level of alpha/2.
- Creates a CI plot for Tukey's HSD as post-hoc test with the confidence intervals calculated using the HSD approach
 such that the family wise significance is alpha.
- Creates Critical Distance (CD) diagrams for the Nemenyi post-hoc test. CD diagrams visualize the mean ranks of
 populations. Populations that are not significantly different are connected by a horizontal bar.</p>
<p>This function raises a ValueError if the omnibus test did not detect a significant difference. The allow_significant
parameter allows the suppression of this exception and forces the creation of the plots.</p>
<p><strong>Parameters</strong></p>
<ul>
<li>
<p><strong>result (RankResult)</strong>:
    Should be the return value the autorank function.</p>
</li>
<li>
<p><strong>allow_insignificant (bool, default=False)</strong>:
    Forces plotting even if results are not significant.</p>
</li>
<li>
<p><strong>ax (Axis, default=None)</strong>:
    Matplotlib axis to which the results are added. A new figure with a single axis is created if None.</p>
</li>
<li>
<p><strong>width (float, default=None)</strong>:
    Specifies the width of the created plot is not None. By default, we use a width of 6. The height is
    automatically determined, based on the type of plot and the number of populations. This parameter is ignored if
    ax is not None.</p>
</li>
</ul>
<p><strong>Return</strong></p>
<p>Axis with the plot. None if no plot was generated.</p>
<h1 id="autorank.latex_table">latex_table</h1>

<pre><code class="python">latex_table(result, *, decimal_places=3, label=None)
</code></pre>

<p>Creates a latex table from the results dataframe of the statistical analysis.</p>
<p><strong>Parameters</strong></p>
<ul>
<li>
<p><strong>result (RankResult)</strong>:
    Should be the return value the autorank function.</p>
</li>
<li>
<p><strong>decimal_places (int, default=3)</strong>:
    Number of decimal places that are used for the report.</p>
</li>
<li>
<p><strong>label (str, default=None)</strong>:</p>
</li>
<li><strong>Label of the table. Defaults to 'tbl</strong>:stat_results' if None.</li>
</ul>
<h1 id="autorank.latex_report">latex_report</h1>

<pre><code class="python">latex_report(result, *, decimal_places=3, prefix='', generate_plots=True, figure_path='', complete_document=True)
</code></pre>

<p>Creates a latex report of the statistical analysis.</p>
<p><strong>Parameters</strong></p>
<ul>
<li>
<p><strong>result (AutoRank)</strong>:
    Should be the return value the autorank function.</p>
</li>
<li>
<p><strong>decimal_places (int, default=3)</strong>:
    Number of decimal places that are used for the report.</p>
</li>
<li>
<p><strong>prefix (str, default="")</strong>:
    Prefix that is added before all labels and plot file names.</p>
</li>
<li>
<p><strong>generate_plots (bool, default=True)</strong>:
    Decides if plots are generated, if the results are statistically significant.</p>
</li>
<li>
<p><strong>figure_path (str, default="")</strong>:
    Path where the plots shall be written to. Ignored if generate_plots is False.</p>
</li>
<li>
<p><strong>complete_document (bool, default=True)</strong>:
    Generates a complete latex document if true. Otherwise only a single section is generated.</p>
</li>
</ul>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href=".." class="btn btn-neutral" title="Home"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href=".." style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>

</body>
</html>
